import{g as l}from"./index-CsHtAUYd.js";const s="https://us-central1-senali-235fb.cloudfunctions.net";async function c(){const e=l().currentUser;if(!e)return null;try{return await e.getIdToken()}catch(r){return console.error("Error getting auth token:",r),null}}async function n(t,e={}){const r=await c(),a={"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...e.headers};console.log("Making request to:",`${s}/${t}`),console.log("With headers:",a);const o=await fetch(`${s}/${t}`,{...e,headers:a});if(!o.ok){const i=await o.text();throw console.error("API Request failed:",{url:`${s}/${t}`,status:o.status,statusText:o.statusText,error:i}),new Error(`API Error: ${o.status} - ${i}`)}return o.json()}const d={async getAll(){return n("getFamilyProfiles")},async create(t){const e="createFamilyProfile";return console.log("Creating family profile:",t),console.log("Using endpoint:",e),console.log("Base URL:",s),n(e,{method:"POST",body:JSON.stringify(t)})},async update(t,e){return n(`updateFamilyProfile?id=${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return n(`deleteFamilyProfile?id=${t}`,{method:"DELETE"})}};export{d as familyProfilesAPI};
